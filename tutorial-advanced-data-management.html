<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title> 5 Tutorial: Advanced data management | Continuing education: R</title>
  <meta name="description" content="Continuing education for employees: R" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content=" 5 Tutorial: Advanced data management | Continuing education: R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Continuing education for employees: R" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content=" 5 Tutorial: Advanced data management | Continuing education: R" />
  
  <meta name="twitter:description" content="Continuing education for employees: R" />
  

<meta name="author" content="Lara Kobilke, IfKW, Ludwig-Maximilians-Universität München" />


<meta name="date" content="2023-06-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exercise-3-test-your-knowledge.html"/>
<link rel="next" href="tutorial-data-visualization-with-ggplot.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Intro to R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>General information on the course</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-can-i-learn-from-this-tutorial"><i class="fa fa-check"></i>What can I learn from this tutorial?</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#provisional-schedule-for-this-seminar"><i class="fa fa-check"></i>Provisional schedule for this seminar</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#what-can-i-do-if-i-have-problems-with-my-r-code"><i class="fa fa-check"></i>What can I do if I have problems with my R code?</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html"><i class="fa fa-check"></i><b>1</b> Tutorial: Installing &amp; Understanding R/R Studio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#what-is-r"><i class="fa fa-check"></i><b>1.1</b> What is R?</a></li>
<li class="chapter" data-level="1.2" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#using-R-is-easy"><i class="fa fa-check"></i><b>1.2</b> Using R is easy!</a></li>
<li class="chapter" data-level="1.3" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#installing-r"><i class="fa fa-check"></i><b>1.3</b> Installing R</a></li>
<li class="chapter" data-level="1.4" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#installing-r-studio"><i class="fa fa-check"></i><b>1.4</b> Installing R Studio</a></li>
<li class="chapter" data-level="1.5" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#updating-r-and-r-studio"><i class="fa fa-check"></i><b>1.5</b> Updating R and R Studio</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#on-windows"><i class="fa fa-check"></i><b>1.5.1</b> On Windows</a></li>
<li class="chapter" data-level="1.5.2" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#on-mac"><i class="fa fa-check"></i><b>1.5.2</b> On MAC</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#how-does-r-work"><i class="fa fa-check"></i><b>1.6</b> How does R work?</a></li>
<li class="chapter" data-level="1.7" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#why-should-i-use-r"><i class="fa fa-check"></i><b>1.7</b> Why should I use R?</a></li>
<li class="chapter" data-level="1.8" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#how-does-r-studio-work"><i class="fa fa-check"></i><b>1.8</b> How does R Studio work?</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#source-writing-your-own-code"><i class="fa fa-check"></i><b>1.8.1</b> Source: Writing your own code</a></li>
<li class="chapter" data-level="1.8.2" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#console-printing-results"><i class="fa fa-check"></i><b>1.8.2</b> Console: Printing results</a></li>
<li class="chapter" data-level="1.8.3" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#environment-overview-of-objects"><i class="fa fa-check"></i><b>1.8.3</b> Environment: Overview of objects</a></li>
<li class="chapter" data-level="1.8.4" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#plotshelppackages-do-everything-else"><i class="fa fa-check"></i><b>1.8.4</b> Plots/Help/Packages: Do everything else</a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#why-arent-we-using-a-gui-for-point-and-click-analyses"><i class="fa fa-check"></i><b>1.9</b> Why aren’t we using a GUI for point-and-click analyses?</a></li>
<li class="chapter" data-level="1.10" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#packages"><i class="fa fa-check"></i><b>1.10</b> Packages</a>
<ul>
<li class="chapter" data-level="1.10.1" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#installing-packages"><i class="fa fa-check"></i><b>1.10.1</b> Installing packages</a></li>
<li class="chapter" data-level="1.10.2" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#activating-packages"><i class="fa fa-check"></i><b>1.10.2</b> Activating packages</a></li>
<li class="chapter" data-level="1.10.3" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#getting-information-about-packages"><i class="fa fa-check"></i><b>1.10.3</b> Getting information about packages</a></li>
</ul></li>
<li class="chapter" data-level="1.11" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#take-aways"><i class="fa fa-check"></i><b>1.11</b> Take-Aways</a></li>
<li class="chapter" data-level="1.12" data-path="tutorial-installing-understanding-rr-studio.html"><a href="tutorial-installing-understanding-rr-studio.html#additional-tutorials"><i class="fa fa-check"></i><b>1.12</b> Additional tutorials</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tutorial-using-r-as-a-calculator.html"><a href="tutorial-using-r-as-a-calculator.html"><i class="fa fa-check"></i><b>2</b> Tutorial: Using R as a calculator</a>
<ul>
<li class="chapter" data-level="2.1" data-path="tutorial-using-r-as-a-calculator.html"><a href="tutorial-using-r-as-a-calculator.html#using-variables-for-calculation"><i class="fa fa-check"></i><b>2.1</b> Using variables for calculation</a></li>
<li class="chapter" data-level="2.2" data-path="tutorial-using-r-as-a-calculator.html"><a href="tutorial-using-r-as-a-calculator.html#using-vectors-for-calculation"><i class="fa fa-check"></i><b>2.2</b> Using vectors for calculation</a></li>
<li class="chapter" data-level="2.3" data-path="tutorial-using-r-as-a-calculator.html"><a href="tutorial-using-r-as-a-calculator.html#selecting-values-from-a-vector"><i class="fa fa-check"></i><b>2.3</b> Selecting values from a vector</a></li>
<li class="chapter" data-level="2.4" data-path="tutorial-using-r-as-a-calculator.html"><a href="tutorial-using-r-as-a-calculator.html#take-aways-1"><i class="fa fa-check"></i><b>2.4</b> Take-Aways</a></li>
<li class="chapter" data-level="2.5" data-path="tutorial-using-r-as-a-calculator.html"><a href="tutorial-using-r-as-a-calculator.html#additional-tutorials-1"><i class="fa fa-check"></i><b>2.5</b> Additional tutorials</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-1.html"><a href="exercise-1.html"><i class="fa fa-check"></i>Exercise 1</a>
<ul>
<li class="chapter" data-level="" data-path="exercise-1.html"><a href="exercise-1.html#task-1"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="exercise-1.html"><a href="exercise-1.html#task-2"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="exercise-1.html"><a href="exercise-1.html#task-3"><i class="fa fa-check"></i>Task 3</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html"><i class="fa fa-check"></i><b>3</b> Tutorial: Working with data (files)</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#defining-your-working-directory"><i class="fa fa-check"></i><b>3.1</b> Defining your working directory</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#optional-setting-the-working-directory-on-a-remote-desktop"><i class="fa fa-check"></i><b>3.1.1</b> Optional: Setting the working directory on a remote desktop</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#import-data-from-your-working-directory"><i class="fa fa-check"></i><b>3.2</b> Import data from your working directory</a></li>
<li class="chapter" data-level="3.3" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#subsetting-variables-columns-in-data-frames"><i class="fa fa-check"></i><b>3.3</b> Subsetting variables / columns in data frames</a></li>
<li class="chapter" data-level="3.4" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#subsetting-observations-rows-in-data-frames"><i class="fa fa-check"></i><b>3.4</b> Subsetting observations / rows in data frames</a></li>
<li class="chapter" data-level="3.5" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#subsetting-values-cells-in-data-frames"><i class="fa fa-check"></i><b>3.5</b> Subsetting values / cells in data frames</a></li>
<li class="chapter" data-level="3.6" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#subsetting-data-with-conditions"><i class="fa fa-check"></i><b>3.6</b> Subsetting data with conditions</a></li>
<li class="chapter" data-level="3.7" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#import-data-from-various-file-formats"><i class="fa fa-check"></i><b>3.7</b> Import data from various file formats</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#importing-data-from-excel"><i class="fa fa-check"></i><b>3.7.1</b> Importing data from Excel</a></li>
<li class="chapter" data-level="3.7.2" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#importing-data-from-json"><i class="fa fa-check"></i><b>3.7.2</b> Importing data from JSON</a></li>
<li class="chapter" data-level="3.7.3" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#importing-data-from-spss"><i class="fa fa-check"></i><b>3.7.3</b> Importing data from SPSS</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#take-aways-2"><i class="fa fa-check"></i><b>3.8</b> Take-Aways</a></li>
<li class="chapter" data-level="3.9" data-path="tutorial-working-with-data-files.html"><a href="tutorial-working-with-data-files.html#additional-tutorials-2"><i class="fa fa-check"></i><b>3.9</b> Additional tutorials</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-2.html"><a href="exercise-2.html"><i class="fa fa-check"></i>Exercise 2</a>
<ul>
<li class="chapter" data-level="" data-path="exercise-2.html"><a href="exercise-2.html#task-1-1"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="exercise-2.html"><a href="exercise-2.html#task-2-1"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="exercise-2.html"><a href="exercise-2.html#task-3-1"><i class="fa fa-check"></i>Task 3</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html"><i class="fa fa-check"></i><b>4</b> Tutorial: Data management with tidyverse</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#why-not-stick-with-base-r"><i class="fa fa-check"></i><b>4.1</b> Why not stick with Base R?</a></li>
<li class="chapter" data-level="4.2" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#tidyverse-packages"><i class="fa fa-check"></i><b>4.2</b> Tidyverse packages</a></li>
<li class="chapter" data-level="4.3" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#tidy-data"><i class="fa fa-check"></i><b>4.3</b> Tidy data</a></li>
<li class="chapter" data-level="4.4" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#the-pipe-operator"><i class="fa fa-check"></i><b>4.4</b> The pipe operator</a></li>
<li class="chapter" data-level="4.5" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#data-transformation-with-dplyr"><i class="fa fa-check"></i><b>4.5</b> Data transformation with dplyr</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#select"><i class="fa fa-check"></i><b>4.5.1</b> select()</a></li>
<li class="chapter" data-level="4.5.2" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#filter"><i class="fa fa-check"></i><b>4.5.2</b> filter()</a></li>
<li class="chapter" data-level="4.5.3" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#arrange"><i class="fa fa-check"></i><b>4.5.3</b> arrange()</a></li>
<li class="chapter" data-level="4.5.4" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#mutate"><i class="fa fa-check"></i><b>4.5.4</b> mutate()</a></li>
<li class="chapter" data-level="4.5.5" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#summarize-group_by"><i class="fa fa-check"></i><b>4.5.5</b> summarize() [+ group_by()]</a></li>
<li class="chapter" data-level="4.5.6" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#chaining-functions-in-a-pipe"><i class="fa fa-check"></i><b>4.5.6</b> Chaining functions in a pipe</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#take-aways-3"><i class="fa fa-check"></i><b>4.6</b> Take-Aways</a></li>
<li class="chapter" data-level="4.7" data-path="tutorial-data-management-with-tidyverse.html"><a href="tutorial-data-management-with-tidyverse.html#additional-tutorials-3"><i class="fa fa-check"></i><b>4.7</b> Additional tutorials</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-3-test-your-knowledge.html"><a href="exercise-3-test-your-knowledge.html"><i class="fa fa-check"></i>Exercise 3: Test your knowledge</a>
<ul>
<li class="chapter" data-level="" data-path="exercise-3-test-your-knowledge.html"><a href="exercise-3-test-your-knowledge.html#task-1-2"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="exercise-3-test-your-knowledge.html"><a href="exercise-3-test-your-knowledge.html#task-2-2"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="exercise-3-test-your-knowledge.html"><a href="exercise-3-test-your-knowledge.html#task-3-2"><i class="fa fa-check"></i>Task 3</a></li>
<li class="chapter" data-level="" data-path="exercise-3-test-your-knowledge.html"><a href="exercise-3-test-your-knowledge.html#task-4"><i class="fa fa-check"></i>Task 4</a></li>
<li class="chapter" data-level="" data-path="exercise-3-test-your-knowledge.html"><a href="exercise-3-test-your-knowledge.html#task-5"><i class="fa fa-check"></i>Task 5</a></li>
<li class="chapter" data-level="" data-path="exercise-3-test-your-knowledge.html"><a href="exercise-3-test-your-knowledge.html#task-6"><i class="fa fa-check"></i>Task 6</a></li>
<li class="chapter" data-level="" data-path="exercise-3-test-your-knowledge.html"><a href="exercise-3-test-your-knowledge.html#task-7"><i class="fa fa-check"></i>Task 7</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html"><i class="fa fa-check"></i><b>5</b> Tutorial: Advanced data management</a>
<ul>
<li class="chapter" data-level="5.1" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#stop-hard-coding-your-working-directory"><i class="fa fa-check"></i><b>5.1</b> Stop hard-coding your working directory!</a></li>
<li class="chapter" data-level="5.2" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#start-navigating-your-working-directory-like-a-pro"><i class="fa fa-check"></i><b>5.2</b> Start navigating your working directory like a pro!</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#the-concept-of-relative-paths"><i class="fa fa-check"></i><b>5.2.1</b> The concept of relative paths</a></li>
<li class="chapter" data-level="5.2.2" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#moving-up-and-down-folders-by-using-relative-paths"><i class="fa fa-check"></i><b>5.2.2</b> Moving up and down folders by using relative paths</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#reading-multiple-files-into-r"><i class="fa fa-check"></i><b>5.3</b> Reading multiple files into R</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#reading-multiple-files-into-r-with-different-column-names"><i class="fa fa-check"></i><b>5.3.1</b> Reading multiple files into R with different column names</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#using-advanced-column-selectors"><i class="fa fa-check"></i><b>5.4</b> Using advanced column selectors</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#selecting-the-last-column"><i class="fa fa-check"></i><b>5.4.1</b> Selecting the last column</a></li>
<li class="chapter" data-level="5.4.2" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#selecting-columns-that-start-with-end-with-or-contain-a-specific-string"><i class="fa fa-check"></i><b>5.4.2</b> Selecting columns that start with, end with or contain a specific string</a></li>
<li class="chapter" data-level="5.4.3" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#selecting-columns-based-on-a-numeric-range"><i class="fa fa-check"></i><b>5.4.3</b> Selecting columns based on a numeric range</a></li>
<li class="chapter" data-level="5.4.4" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#selecting-columns-based-on-their-type"><i class="fa fa-check"></i><b>5.4.4</b> Selecting columns based on their type</a></li>
<li class="chapter" data-level="5.4.5" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#combine-selectors"><i class="fa fa-check"></i><b>5.4.5</b> Combine selectors</a></li>
<li class="chapter" data-level="5.4.6" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#reorder-your-columns-with-everything"><i class="fa fa-check"></i><b>5.4.6</b> Reorder your columns with everything()</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#advanced-selection-of-rows"><i class="fa fa-check"></i><b>5.5</b> Advanced selection of rows</a></li>
<li class="chapter" data-level="5.6" data-path="tutorial-advanced-data-management.html"><a href="tutorial-advanced-data-management.html#take-aways-4"><i class="fa fa-check"></i><b>5.6</b> Take-Aways</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html"><i class="fa fa-check"></i><b>6</b> Tutorial: Data visualization with ggplot</a>
<ul>
<li class="chapter" data-level="6.1" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#why-not-stick-with-base-r-1"><i class="fa fa-check"></i><b>6.1</b> Why not stick with Base R?</a></li>
<li class="chapter" data-level="6.2" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#components-of-a-ggplot-graph"><i class="fa fa-check"></i><b>6.2</b> Components of a ggplot graph</a></li>
<li class="chapter" data-level="6.3" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#installing-activating-ggplot"><i class="fa fa-check"></i><b>6.3</b> Installing &amp; activating ggplot</a></li>
<li class="chapter" data-level="6.4" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#building-your-first-plot"><i class="fa fa-check"></i><b>6.4</b> Building your first plot</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#data"><i class="fa fa-check"></i><b>6.4.1</b> Data</a></li>
<li class="chapter" data-level="6.4.2" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#aesthetics"><i class="fa fa-check"></i><b>6.4.2</b> Aesthetics</a></li>
<li class="chapter" data-level="6.4.3" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#geometrics"><i class="fa fa-check"></i><b>6.4.3</b> Geometrics</a></li>
<li class="chapter" data-level="6.4.4" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#scales"><i class="fa fa-check"></i><b>6.4.4</b> Scales</a></li>
<li class="chapter" data-level="6.4.5" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#themes"><i class="fa fa-check"></i><b>6.4.5</b> Themes</a></li>
<li class="chapter" data-level="6.4.6" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#labs"><i class="fa fa-check"></i><b>6.4.6</b> Labs</a></li>
<li class="chapter" data-level="6.4.7" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#facets"><i class="fa fa-check"></i><b>6.4.7</b> Facets</a></li>
<li class="chapter" data-level="6.4.8" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#saving-graphs"><i class="fa fa-check"></i><b>6.4.8</b> Saving graphs</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#other-common-plot-types"><i class="fa fa-check"></i><b>6.5</b> Other common plot types</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#bar-plots"><i class="fa fa-check"></i><b>6.5.1</b> bar plots</a></li>
<li class="chapter" data-level="6.5.2" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#box-plots"><i class="fa fa-check"></i><b>6.5.2</b> box plots</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#take-aways-5"><i class="fa fa-check"></i><b>6.6</b> Take Aways</a></li>
<li class="chapter" data-level="6.7" data-path="tutorial-data-visualization-with-ggplot.html"><a href="tutorial-data-visualization-with-ggplot.html#additional-tutorials-4"><i class="fa fa-check"></i><b>6.7</b> Additional tutorials</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html"><i class="fa fa-check"></i>Exercise 4: Test your knowledge</a>
<ul>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html#task-1-3"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html#task-2-3"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html#task-3-3"><i class="fa fa-check"></i>Task 3</a></li>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html#task-4-1"><i class="fa fa-check"></i>Task 4</a></li>
<li class="chapter" data-level="" data-path="exercise-4-test-your-knowledge.html"><a href="exercise-4-test-your-knowledge.html#task-5-1"><i class="fa fa-check"></i>Task 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html"><i class="fa fa-check"></i>Exercise 5: Test your knowledge</a>
<ul>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-1-4"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-2-4"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-3-4"><i class="fa fa-check"></i>Task 3</a></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-4-2"><i class="fa fa-check"></i>Task 4</a></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-5-2"><i class="fa fa-check"></i>Task 5</a></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-6-1"><i class="fa fa-check"></i>Task 6</a></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-7-1"><i class="fa fa-check"></i>Task 7</a></li>
<li class="chapter" data-level="" data-path="exercise-5-test-your-knowledge.html"><a href="exercise-5-test-your-knowledge.html#task-8"><i class="fa fa-check"></i>Task 8</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html"><i class="fa fa-check"></i>Solutions</a>
<ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#solutions-for-exercise-1"><i class="fa fa-check"></i>Solutions for Exercise 1</a>
<ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-1-5"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-2-5"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-3-5"><i class="fa fa-check"></i>Task 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#solutions-for-exercise-2"><i class="fa fa-check"></i>Solutions for Exercise 2</a>
<ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-1-6"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-2-6"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-3-6"><i class="fa fa-check"></i>Task 3</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#solutions-for-exercise-3"><i class="fa fa-check"></i>Solutions for Exercise 3</a>
<ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-1-7"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-2-7"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-3-7"><i class="fa fa-check"></i>Task 3</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-4-3"><i class="fa fa-check"></i>Task 4</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-5-3"><i class="fa fa-check"></i>Task 5</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-6-2"><i class="fa fa-check"></i>Task 6</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-7-2"><i class="fa fa-check"></i>Task 7</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#solutions-for-exercise-4"><i class="fa fa-check"></i>Solutions for Exercise 4</a>
<ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-1-8"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-2-8"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-3-8"><i class="fa fa-check"></i>Task 3</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-4-4"><i class="fa fa-check"></i>Task 4</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-5-4"><i class="fa fa-check"></i>Task 5</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#solutions-for-exercise-5"><i class="fa fa-check"></i>Solutions for Exercise 5</a>
<ul>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-1-9"><i class="fa fa-check"></i>Task 1</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-2-9"><i class="fa fa-check"></i>Task 2</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-3-9"><i class="fa fa-check"></i>Task 3</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-4-5"><i class="fa fa-check"></i>Task 4</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-5-5"><i class="fa fa-check"></i>Task 5</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-6-3"><i class="fa fa-check"></i>Task 6</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-7-3"><i class="fa fa-check"></i>Task 7</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html#task-8-1"><i class="fa fa-check"></i>Task 8</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/LKobilke/data-journalism" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Continuing education: R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tutorial-advanced-data-management" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number"> 5</span> Tutorial: Advanced data management<a href="tutorial-advanced-data-management.html#tutorial-advanced-data-management" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><strong>After working through Tutorial 5, you’ll…</strong></p>
<ul>
<li>have learned some neat tricks that took me several years to figure
out… :)</li>
<li>… for example, soft-coding your working directory</li>
<li>… using relative paths to navigate your folders</li>
<li>… using advanced column selectors</li>
</ul>
<p>Some parts of this tutorial are heavily inspired by Christian Burkhart’s
book <a href="https://christianb.gumroad.com/l/tidyverse-booster">Going from Beginner to Advanced in the
Tidyverse</a>. This
book is the next step in your journey to tidyverse mastery!</p>
<div id="stop-hard-coding-your-working-directory" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Stop hard-coding your working directory!<a href="tutorial-advanced-data-management.html#stop-hard-coding-your-working-directory" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Hard-coding your working directory with
<code>setwd("C:/Users/LaraK/Documents/IPR/")</code> comes with a significant
drawback: it is not reproducible on your colleagues’ machines! Your
colleagues may have different user names, run the script from different
source file paths, or have different folder structures.</p>
<p>To avoid these problems, you can use the <code>rstudioapi</code> package. It
provides a set of functions that allow you to interact with RStudio’s
IDE (Integrated Development Environment) programmatically. First,
install and load the package:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="tutorial-advanced-data-management.html#cb167-1" tabindex="-1"></a><span class="co"># install.packages(&quot;rstudioapi&quot;) # run only the first time</span></span>
<span id="cb167-2"><a href="tutorial-advanced-data-management.html#cb167-2" tabindex="-1"></a><span class="fu">library</span>(rstudioapi)</span></code></pre></div>
<p>Now you should open or create an R script file in RStudio that is
located in the desired folder that you want to become your working
directory. I will create a script in a folder called <code>IPR</code> that rests
under the folder path: <code>"C:/Users/LaraK/Documents/IPR/"</code>. Save that
script in your folder!</p>
<p>Now copy the following line of code in your R script and execute it:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="tutorial-advanced-data-management.html#cb168-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="fu">dirname</span>(rstudioapi<span class="sc">::</span><span class="fu">getSourceEditorContext</span>()<span class="sc">$</span>path))</span></code></pre></div>
<p>By using the <code>dirname()</code> function on
<code>rstudioapi::getSourceEditorContext()$path</code>, we extract the directory
<strong>path of the currently active R script</strong> and pass it to <code>setwd()</code> to
set it as the working directory. This approach also ensures that the
working directory is set to the correct folder, even if you rename or
move the R script within RStudio. <strong>Note</strong>: Remember to save the R
script in the desired folder <em>before</em> executing the <code>setwd()</code> function
to ensure that it sets the correct working directory.</p>
<p>That’s really handy, isn’t it?</p>
</div>
<div id="start-navigating-your-working-directory-like-a-pro" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Start navigating your working directory like a pro!<a href="tutorial-advanced-data-management.html#start-navigating-your-working-directory-like-a-pro" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="the-concept-of-relative-paths" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> The concept of relative paths<a href="tutorial-advanced-data-management.html#the-concept-of-relative-paths" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>If you have subfolders in your working directory or when your working
directory itself is a subfolder of a more high-level folder, you can
start navigating in it by using relative paths. A relative path is like
giving directions from your current location (e.g.: “When you leave the
IfKW, you turn right on the Oettingenstraße. Walk down the road until
you see a crossroad. Turn left and then you can see the Bayrische
Eismanufaktur!”). It’s the contrary of providing an absolute path, which
means providing the full address of a place (e.g.: “You can find the
Bayrische Eismanufaktur at Oettingenstr. 42a – 80538 München,
longitude: 48.14646612168593, latitude: 11.593379619133687”).</p>
<p>In R, a relative path specifies the path to a folder or file <strong>relative
to your current working directory</strong> in RStudio. It doesn’t include the
complete path from the root of your file system. Instead, it describes
how to navigate through the folders and subfolders starting from your
current location. Relative paths are flexible and can adapt to different
working directories.</p>
<p>For example, if your current working directory is
<code>"C:/Users/LaraK/Documents/IPR/"</code>, a relative path to a file named
<code>WoJ_names_1.csv</code> in a subfolder named <code>mutiple_files</code> would be
<code>mutiple_files/WoJ_names_1.csv</code>.</p>
</div>
<div id="moving-up-and-down-folders-by-using-relative-paths" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Moving up and down folders by using relative paths<a href="tutorial-advanced-data-management.html#moving-up-and-down-folders-by-using-relative-paths" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Please download the .csv files that are contained in the folder
<code>multiple_files</code> on <a href="https://syncandshare.lrz.de/getlink/fiHKRzXqYLVvtSm8SFgSEc/mutiple_files">LRZ Sync &amp;
Share</a>
and store them in a subfolder called <code>mutiple_files</code> in your working
directory.</p>
<p>To move down a folder, you can use the <code>./</code> notation. The <code>./</code>
represents the child directory of the current working directory that you
want to navigate to. For example, if you’re in the folder
<code>"C:/Users/LaraK/Documents/IPR/"</code> and you want to move your working
directory down to the <code>"mutiple_files"</code> subfolder, you can use the
following code:</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="tutorial-advanced-data-management.html#cb169-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;./mutiple_files&quot;</span>)</span></code></pre></div>
<p>To move up one level in the folder hierarchy again, you can use the
<code>../</code> notation. The <code>../</code> represents the parent directory of the current
working directory. You can use this notation with the <code>setwd()</code> function
to navigate up the folder again:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="tutorial-advanced-data-management.html#cb170-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;../&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="reading-multiple-files-into-r" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Reading multiple files into R<a href="tutorial-advanced-data-management.html#reading-multiple-files-into-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>There are several common challenges when reading multiple files into R,
such as inconsistent column names and file paths, as well as selecting
only the necessary files. In this tutorial, I’ll teach you a convenient
solution by creating a character vector of file paths and reading them
into R using the <code>read_*</code> functions.</p>
<p>First, you will need to set the folder <code>"multiple_files"</code> as your
working directory.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="tutorial-advanced-data-management.html#cb171-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;./mutiple_files&quot;</span>)</span></code></pre></div>
<p>Now you need to save teh folder path of your working directory as a
character string. You can use <code>getwd()</code> and save the result in an R
object called <code>path</code>:</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="tutorial-advanced-data-management.html#cb172-1" tabindex="-1"></a>path <span class="ot">&lt;-</span> <span class="fu">getwd</span>()</span>
<span id="cb172-2"><a href="tutorial-advanced-data-management.html#cb172-2" tabindex="-1"></a>path</span></code></pre></div>
<p>Next, create a character vector that contains the file names of all
files contained in your subfolder <code>"multiple_files"</code>. You can look at
the file names of a folder by using the function <code>list.files()</code>:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="tutorial-advanced-data-management.html#cb173-1" tabindex="-1"></a>file_names <span class="ot">&lt;-</span> <span class="fu">list.files</span>(path)</span>
<span id="cb173-2"><a href="tutorial-advanced-data-management.html#cb173-2" tabindex="-1"></a>file_names</span></code></pre></div>
<p>Now turn these names into a proper character vector of all the file
paths by adding additional arguments to the function <code>list.files()</code>:</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="tutorial-advanced-data-management.html#cb174-1" tabindex="-1"></a>file_paths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> path,       <span class="co"># takes the path to the working directory / folder</span></span>
<span id="cb174-2"><a href="tutorial-advanced-data-management.html#cb174-2" tabindex="-1"></a>                         <span class="at">pattern =</span> <span class="st">&quot;csv&quot;</span>,   <span class="co"># file should contain the string &#39;csv&#39;, but you could also opt for &quot;WoJ_names&quot;</span></span>
<span id="cb174-3"><a href="tutorial-advanced-data-management.html#cb174-3" tabindex="-1"></a>                         <span class="at">full.names =</span> <span class="cn">TRUE</span>) <span class="co"># store the full file paths, not just the file names</span></span>
<span id="cb174-4"><a href="tutorial-advanced-data-management.html#cb174-4" tabindex="-1"></a>file_paths</span></code></pre></div>
<p>Finally, read the files using <code>map()</code>: Use <code>map()</code> from the <code>purrr</code>
package (part of the <code>tidyverse</code> metapackage) to iterate over the file
paths and read each file using a function like <code>read.csv()</code> (or
<code>read_excel()</code>, etc.). The result will be a list of data frames.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="tutorial-advanced-data-management.html#cb175-1" tabindex="-1"></a>data_list <span class="ot">&lt;-</span> file_paths <span class="sc">%&gt;%</span> </span>
<span id="cb175-2"><a href="tutorial-advanced-data-management.html#cb175-2" tabindex="-1"></a>  <span class="fu">map</span>(<span class="sc">~</span><span class="fu">read.csv2</span>(<span class="at">file =</span> .x))  <span class="co"># use map to apply read.csv2 (semicolon-separated) to each individual file path, .x stands for each individual file path</span></span>
<span id="cb175-3"><a href="tutorial-advanced-data-management.html#cb175-3" tabindex="-1"></a>data_list</span></code></pre></div>
<p>However, we don’t want our data to be read in as separate files. We want
to combine them in one single file. We can use <code>bind_rows()</code> from the
<code>dpylr</code> package for that:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="tutorial-advanced-data-management.html#cb176-1" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> data_list <span class="sc">%&gt;%</span> <span class="fu">bind_rows</span>()  <span class="co"># bind all of your rows in your data list into one dataframe</span></span></code></pre></div>
<p>That involved a great number of individual steps. Let’s now consolidate
everything into a simpler pipeline and execute it:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="tutorial-advanced-data-management.html#cb177-1" tabindex="-1"></a>path <span class="ot">&lt;-</span> <span class="fu">getwd</span>()</span>
<span id="cb177-2"><a href="tutorial-advanced-data-management.html#cb177-2" tabindex="-1"></a>file_paths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> path,</span>
<span id="cb177-3"><a href="tutorial-advanced-data-management.html#cb177-3" tabindex="-1"></a>                         <span class="at">pattern =</span> <span class="st">&quot;csv&quot;</span>,</span>
<span id="cb177-4"><a href="tutorial-advanced-data-management.html#cb177-4" tabindex="-1"></a>                         <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb177-5"><a href="tutorial-advanced-data-management.html#cb177-5" tabindex="-1"></a></span>
<span id="cb177-6"><a href="tutorial-advanced-data-management.html#cb177-6" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> file_paths <span class="sc">%&gt;%</span> </span>
<span id="cb177-7"><a href="tutorial-advanced-data-management.html#cb177-7" tabindex="-1"></a>  <span class="fu">map</span>(<span class="sc">~</span><span class="fu">read.csv2</span>(<span class="at">file =</span> .x)) <span class="sc">%&gt;%</span></span>
<span id="cb177-8"><a href="tutorial-advanced-data-management.html#cb177-8" tabindex="-1"></a>  <span class="fu">bind_rows</span>()</span></code></pre></div>
<p><strong>Note:</strong> If the files have different column names or structures, you
may encounter issues when binding them together with this approach. Make
sure the files have compatible structures or consider preprocessing the
data, as shown in the next chapter.</p>
<div id="reading-multiple-files-into-r-with-different-column-names" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Reading multiple files into R with different column names<a href="tutorial-advanced-data-management.html#reading-multiple-files-into-r-with-different-column-names" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Things can sometimes get messy. Please download the .csv files that are
contained in the folder <code>multiple_files_messy</code> on <a href="https://syncandshare.lrz.de/getlink/fiBrHj9PZXRE8BcAAgrZkj/multiple_files_messy">LRZ Sync &amp;
Share</a>
and store them in a folder called <code>mutiple_files_messy</code> in your working
directory.</p>
<p>In this messy folder, the <code>WoJ_names_1.csv</code> file has been altered. The
column name <code>country</code> has been capitalized (i.e.,
changed to <code>COUNTRY</code>), and the column containing names
has been accidentally deleted. Let’s attempt to reload the .csv files
once more and set the column names to lowercase dynamically. To handle
the missing column, we will use bind_rows function:”</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="tutorial-advanced-data-management.html#cb178-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;./mutiple_files_messy&quot;</span>)</span>
<span id="cb178-2"><a href="tutorial-advanced-data-management.html#cb178-2" tabindex="-1"></a></span>
<span id="cb178-3"><a href="tutorial-advanced-data-management.html#cb178-3" tabindex="-1"></a>path <span class="ot">&lt;-</span> <span class="fu">getwd</span>()</span>
<span id="cb178-4"><a href="tutorial-advanced-data-management.html#cb178-4" tabindex="-1"></a>file_paths <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span> path,</span>
<span id="cb178-5"><a href="tutorial-advanced-data-management.html#cb178-5" tabindex="-1"></a>                         <span class="at">pattern =</span> <span class="st">&quot;csv&quot;</span>,</span>
<span id="cb178-6"><a href="tutorial-advanced-data-management.html#cb178-6" tabindex="-1"></a>                         <span class="at">full.names =</span> <span class="cn">TRUE</span>)</span>
<span id="cb178-7"><a href="tutorial-advanced-data-management.html#cb178-7" tabindex="-1"></a></span>
<span id="cb178-8"><a href="tutorial-advanced-data-management.html#cb178-8" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> file_paths <span class="sc">%&gt;%</span> </span>
<span id="cb178-9"><a href="tutorial-advanced-data-management.html#cb178-9" tabindex="-1"></a>  <span class="fu">map</span>(<span class="sc">~</span><span class="fu">read.csv2</span>(<span class="at">file =</span> .x) <span class="sc">%&gt;%</span></span>
<span id="cb178-10"><a href="tutorial-advanced-data-management.html#cb178-10" tabindex="-1"></a>        <span class="fu">setNames</span>(<span class="fu">tolower</span>(<span class="fu">names</span>(.)))) <span class="sc">%&gt;%</span></span>
<span id="cb178-11"><a href="tutorial-advanced-data-management.html#cb178-11" tabindex="-1"></a>  <span class="fu">bind_rows</span>()</span></code></pre></div>
<p>Neat! Note that you can always exchange the string in the <code>pattern</code>
argument of <code>list.files</code> to include a regular expression. I can’t cover
regular expressions and the <code>stringr</code> package in this tutorial, but if
you are interested in mastering regular expressions, you can have look
at my tutorial for our <a href="https://lkobilke.github.io/data-journalism/tutorial-text-manipulation-with-stringr.html#tutorial-text-manipulation-with-stringr">MA journalism
students</a>.</p>
</div>
</div>
<div id="using-advanced-column-selectors" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Using advanced column selectors<a href="tutorial-advanced-data-management.html#using-advanced-column-selectors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>Tidyselect</code> is a package within the <code>tidyverse</code> that provides a set of
functions for selecting and manipulating columns in a data frame. It is
mainly used internally by other tidyverse packages, such as <code>dplyr</code> and
<code>tidyr</code>, to handle column selections. <code>Tidyselect</code> functions, such as
<code>starts_with()</code>, <code>ends_with()</code>, and <code>contains()</code>, allow you to specify
column selections based on various patterns, such as prefixes, suffixes,
and substrings. In this tutorial, we will look at the following
<code>tidyselect</code> functions:</p>
<ol style="list-style-type: decimal">
<li>last_col()</li>
<li>starts_with()</li>
<li>ends_with()</li>
<li>contains()</li>
<li>matches()</li>
<li>num_range()</li>
<li>where()</li>
</ol>
<p>Let’s first import the full <code>Worlds of Journalism</code> dataset from the
<code>tidycomm</code> package:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="tutorial-advanced-data-management.html#cb179-1" tabindex="-1"></a>data <span class="ot">&lt;-</span> tidycomm<span class="sc">::</span>WoJ</span></code></pre></div>
<div id="selecting-the-last-column" class="section level3 hasAnchor" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> Selecting the last column<a href="tutorial-advanced-data-management.html#selecting-the-last-column" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Use <code>last_col()</code> when you want to select the last column of a data frame
regardless of its name.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="tutorial-advanced-data-management.html#cb180-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">last_col</span>())</span></code></pre></div>
<pre><code>## # A tibble: 1,200 × 1
##    trust_politicians
##                &lt;dbl&gt;
##  1                 3
##  2                 3
##  3                 3
##  4                 3
##  5                 2
##  6                 2
##  7                 2
##  8                 3
##  9                 1
## 10                 3
## # ℹ 1,190 more rows</code></pre>
<p>You can also select all columns except the last one:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="tutorial-advanced-data-management.html#cb182-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">!</span><span class="fu">last_col</span>())</span></code></pre></div>
<pre><code>## # A tibble: 1,200 × 14
##    country   reach employment temp_contract autonomy_selection autonomy_emphasis
##    &lt;fct&gt;     &lt;fct&gt; &lt;chr&gt;      &lt;fct&gt;                      &lt;dbl&gt;             &lt;dbl&gt;
##  1 Germany   Nati… Full-time  Permanent                      5                 4
##  2 Germany   Nati… Full-time  Permanent                      3                 4
##  3 Switzerl… Regi… Full-time  Permanent                      4                 4
##  4 Switzerl… Local Part-time  Permanent                      4                 5
##  5 Austria   Nati… Part-time  Permanent                      4                 4
##  6 Switzerl… Local Freelancer &lt;NA&gt;                           4                 4
##  7 Germany   Local Full-time  Permanent                      4                 4
##  8 Denmark   Nati… Full-time  Permanent                      3                 3
##  9 Switzerl… Local Full-time  Permanent                      5                 5
## 10 Denmark   Nati… Full-time  Permanent                      2                 4
## # ℹ 1,190 more rows
## # ℹ 8 more variables: ethics_1 &lt;dbl&gt;, ethics_2 &lt;dbl&gt;, ethics_3 &lt;dbl&gt;,
## #   ethics_4 &lt;dbl&gt;, work_experience &lt;dbl&gt;, trust_parliament &lt;dbl&gt;,
## #   trust_government &lt;dbl&gt;, trust_parties &lt;dbl&gt;</code></pre>
</div>
<div id="selecting-columns-that-start-with-end-with-or-contain-a-specific-string" class="section level3 hasAnchor" number="5.4.2">
<h3><span class="header-section-number">5.4.2</span> Selecting columns that start with, end with or contain a specific string<a href="tutorial-advanced-data-management.html#selecting-columns-that-start-with-end-with-or-contain-a-specific-string" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>starts_with()</code> selects columns that start with a specific prefix:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="tutorial-advanced-data-management.html#cb184-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">&quot;ethics&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1,200 × 4
##    ethics_1 ethics_2 ethics_3 ethics_4
##       &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
##  1        2        3        2        1
##  2        1        2        2        1
##  3        2        4        2        1
##  4        1        3        1        2
##  5        2        3        2        1
##  6        2        4        4        3
##  7        1        3        2        2
##  8        2        4        4        4
##  9        1        2        1        3
## 10        1        4        4        4
## # ℹ 1,190 more rows</code></pre>
<p><code>ends_with()</code> selects columns that end with onre or more specific
suffixes:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="tutorial-advanced-data-management.html#cb186-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="fu">c</span>(<span class="st">&quot;_1&quot;</span>, <span class="st">&quot;_2&quot;</span>))) <span class="co"># ends with _1 OR _2</span></span></code></pre></div>
<pre><code>## # A tibble: 1,200 × 2
##    ethics_1 ethics_2
##       &lt;dbl&gt;    &lt;dbl&gt;
##  1        2        3
##  2        1        2
##  3        2        4
##  4        1        3
##  5        2        3
##  6        2        4
##  7        1        3
##  8        2        4
##  9        1        2
## 10        1        4
## # ℹ 1,190 more rows</code></pre>
<p><code>contains()</code> selects columns that contain a specific substring:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="tutorial-advanced-data-management.html#cb188-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">&quot;_&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1,200 × 12
##    temp_contract autonomy_selection autonomy_emphasis ethics_1 ethics_2 ethics_3
##    &lt;fct&gt;                      &lt;dbl&gt;             &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
##  1 Permanent                      5                 4        2        3        2
##  2 Permanent                      3                 4        1        2        2
##  3 Permanent                      4                 4        2        4        2
##  4 Permanent                      4                 5        1        3        1
##  5 Permanent                      4                 4        2        3        2
##  6 &lt;NA&gt;                           4                 4        2        4        4
##  7 Permanent                      4                 4        1        3        2
##  8 Permanent                      3                 3        2        4        4
##  9 Permanent                      5                 5        1        2        1
## 10 Permanent                      2                 4        1        4        4
## # ℹ 1,190 more rows
## # ℹ 6 more variables: ethics_4 &lt;dbl&gt;, work_experience &lt;dbl&gt;,
## #   trust_parliament &lt;dbl&gt;, trust_government &lt;dbl&gt;, trust_parties &lt;dbl&gt;,
## #   trust_politicians &lt;dbl&gt;</code></pre>
<p><code>matches()</code> selects columns based on a regular expression pattern:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="tutorial-advanced-data-management.html#cb190-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">&quot;^ethics&quot;</span>)) <span class="co"># ^ stands for &quot;begins with&quot; in regex notation</span></span></code></pre></div>
<pre><code>## # A tibble: 1,200 × 4
##    ethics_1 ethics_2 ethics_3 ethics_4
##       &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
##  1        2        3        2        1
##  2        1        2        2        1
##  3        2        4        2        1
##  4        1        3        1        2
##  5        2        3        2        1
##  6        2        4        4        3
##  7        1        3        2        2
##  8        2        4        4        4
##  9        1        2        1        3
## 10        1        4        4        4
## # ℹ 1,190 more rows</code></pre>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="tutorial-advanced-data-management.html#cb192-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">d&quot;</span>)) <span class="co"># \\d stands for &quot;contains a digit/number&quot;</span></span></code></pre></div>
<pre><code>## # A tibble: 1,200 × 4
##    ethics_1 ethics_2 ethics_3 ethics_4
##       &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
##  1        2        3        2        1
##  2        1        2        2        1
##  3        2        4        2        1
##  4        1        3        1        2
##  5        2        3        2        1
##  6        2        4        4        3
##  7        1        3        2        2
##  8        2        4        4        4
##  9        1        2        1        3
## 10        1        4        4        4
## # ℹ 1,190 more rows</code></pre>
<p><strong>Note</strong>: All of the above functions, except <code>matches()</code> are not
case-sensetive. This means that they will match both upper- and
lowercase letters. If you want to make them case-sensetive, use the
<code>ignore.case</code> argument and set it to FALSE.</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="tutorial-advanced-data-management.html#cb194-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">&quot;Ethics&quot;</span>, <span class="at">ignore.case =</span> <span class="cn">FALSE</span>)) <span class="co"># but there is not capitalized Ethics in the data</span></span></code></pre></div>
<pre><code>## # A tibble: 1,200 × 0</code></pre>
</div>
<div id="selecting-columns-based-on-a-numeric-range" class="section level3 hasAnchor" number="5.4.3">
<h3><span class="header-section-number">5.4.3</span> Selecting columns based on a numeric range<a href="tutorial-advanced-data-management.html#selecting-columns-based-on-a-numeric-range" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can selects columns based on a numerical range with <code>num_range()</code>:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="tutorial-advanced-data-management.html#cb196-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">num_range</span>(<span class="st">&quot;ethics_&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)) <span class="co"># selects ethics_1 and ethics2, but not ethics_3, etc.</span></span></code></pre></div>
<pre><code>## # A tibble: 1,200 × 2
##    ethics_1 ethics_2
##       &lt;dbl&gt;    &lt;dbl&gt;
##  1        2        3
##  2        1        2
##  3        2        4
##  4        1        3
##  5        2        3
##  6        2        4
##  7        1        3
##  8        2        4
##  9        1        2
## 10        1        4
## # ℹ 1,190 more rows</code></pre>
</div>
<div id="selecting-columns-based-on-their-type" class="section level3 hasAnchor" number="5.4.4">
<h3><span class="header-section-number">5.4.4</span> Selecting columns based on their type<a href="tutorial-advanced-data-management.html#selecting-columns-based-on-their-type" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can selects columns based on their type with <code>where()</code>, e.g., all
character columns:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="tutorial-advanced-data-management.html#cb198-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">where</span>(is.character))</span></code></pre></div>
<pre><code>## # A tibble: 1,200 × 1
##    employment
##    &lt;chr&gt;     
##  1 Full-time 
##  2 Full-time 
##  3 Full-time 
##  4 Part-time 
##  5 Part-time 
##  6 Freelancer
##  7 Full-time 
##  8 Full-time 
##  9 Full-time 
## 10 Full-time 
## # ℹ 1,190 more rows</code></pre>
<p>Or you could select all columns that contain numbers:</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="tutorial-advanced-data-management.html#cb200-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span></code></pre></div>
<pre><code>## # A tibble: 1,200 × 11
##    autonomy_selection autonomy_emphasis ethics_1 ethics_2 ethics_3 ethics_4
##                 &lt;dbl&gt;             &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
##  1                  5                 4        2        3        2        1
##  2                  3                 4        1        2        2        1
##  3                  4                 4        2        4        2        1
##  4                  4                 5        1        3        1        2
##  5                  4                 4        2        3        2        1
##  6                  4                 4        2        4        4        3
##  7                  4                 4        1        3        2        2
##  8                  3                 3        2        4        4        4
##  9                  5                 5        1        2        1        3
## 10                  2                 4        1        4        4        4
## # ℹ 1,190 more rows
## # ℹ 5 more variables: work_experience &lt;dbl&gt;, trust_parliament &lt;dbl&gt;,
## #   trust_government &lt;dbl&gt;, trust_parties &lt;dbl&gt;, trust_politicians &lt;dbl&gt;</code></pre>
<p>You could also use: 1) is.integer (whole numbers, e.g., 7) 2) is.double
(decimal numbers, e.g., 7.25) 3) is.logical (e.g., TRUE/FALSE) 4)
is.factor (e.g., “great”, “greater”, “the greatest”)</p>
</div>
<div id="combine-selectors" class="section level3 hasAnchor" number="5.4.5">
<h3><span class="header-section-number">5.4.5</span> Combine selectors<a href="tutorial-advanced-data-management.html#combine-selectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>You can combine selectors, of course. Let’s select all character columns
and columns that start with “autonomy”.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="tutorial-advanced-data-management.html#cb202-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">where</span>(is.character) <span class="sc">|</span> <span class="fu">starts_with</span>(<span class="st">&quot;autonomy&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1,200 × 3
##    employment autonomy_selection autonomy_emphasis
##    &lt;chr&gt;                   &lt;dbl&gt;             &lt;dbl&gt;
##  1 Full-time                   5                 4
##  2 Full-time                   3                 4
##  3 Full-time                   4                 4
##  4 Part-time                   4                 5
##  5 Part-time                   4                 4
##  6 Freelancer                  4                 4
##  7 Full-time                   4                 4
##  8 Full-time                   3                 3
##  9 Full-time                   5                 5
## 10 Full-time                   2                 4
## # ℹ 1,190 more rows</code></pre>
</div>
<div id="reorder-your-columns-with-everything" class="section level3 hasAnchor" number="5.4.6">
<h3><span class="header-section-number">5.4.6</span> Reorder your columns with everything()<a href="tutorial-advanced-data-management.html#reorder-your-columns-with-everything" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Finally, you can select <strong>all</strong> columns with <code>everything()</code>. This allows
you to reorder your columns quickly:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="tutorial-advanced-data-management.html#cb204-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">select</span>(temp_contract, country, <span class="fu">everything</span>())</span></code></pre></div>
<pre><code>## # A tibble: 1,200 × 15
##    temp_contract country   reach employment autonomy_selection autonomy_emphasis
##    &lt;fct&gt;         &lt;fct&gt;     &lt;fct&gt; &lt;chr&gt;                   &lt;dbl&gt;             &lt;dbl&gt;
##  1 Permanent     Germany   Nati… Full-time                   5                 4
##  2 Permanent     Germany   Nati… Full-time                   3                 4
##  3 Permanent     Switzerl… Regi… Full-time                   4                 4
##  4 Permanent     Switzerl… Local Part-time                   4                 5
##  5 Permanent     Austria   Nati… Part-time                   4                 4
##  6 &lt;NA&gt;          Switzerl… Local Freelancer                  4                 4
##  7 Permanent     Germany   Local Full-time                   4                 4
##  8 Permanent     Denmark   Nati… Full-time                   3                 3
##  9 Permanent     Switzerl… Local Full-time                   5                 5
## 10 Permanent     Denmark   Nati… Full-time                   2                 4
## # ℹ 1,190 more rows
## # ℹ 9 more variables: ethics_1 &lt;dbl&gt;, ethics_2 &lt;dbl&gt;, ethics_3 &lt;dbl&gt;,
## #   ethics_4 &lt;dbl&gt;, work_experience &lt;dbl&gt;, trust_parliament &lt;dbl&gt;,
## #   trust_government &lt;dbl&gt;, trust_parties &lt;dbl&gt;, trust_politicians &lt;dbl&gt;</code></pre>
</div>
</div>
<div id="advanced-selection-of-rows" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Advanced selection of rows<a href="tutorial-advanced-data-management.html#advanced-selection-of-rows" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You can make very advanced row selections by using the function
<code>str_detect</code> from the <code>stringr</code> package in combination with <code>filter</code>
from the <code>dplyr</code> package, especially if you combine <code>str_detect</code> with
regular expressions.</p>
<p>Let’s start with partial matching, i.e., when your pattern is <strong>part</strong> of a string, select it:</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="tutorial-advanced-data-management.html#cb206-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(employment, <span class="st">&quot;Free&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 172 × 15
##    country   reach employment temp_contract autonomy_selection autonomy_emphasis
##    &lt;fct&gt;     &lt;fct&gt; &lt;chr&gt;      &lt;fct&gt;                      &lt;dbl&gt;             &lt;dbl&gt;
##  1 Switzerl… Local Freelancer &lt;NA&gt;                           4                 4
##  2 Denmark   Nati… Freelancer &lt;NA&gt;                           4                 4
##  3 Denmark   Nati… Freelancer &lt;NA&gt;                           5                 5
##  4 UK        Tran… Freelancer &lt;NA&gt;                           4                 4
##  5 Germany   Regi… Freelancer &lt;NA&gt;                           2                 4
##  6 Denmark   Nati… Freelancer &lt;NA&gt;                           4                 4
##  7 Denmark   Nati… Freelancer &lt;NA&gt;                           2                 3
##  8 Denmark   Nati… Freelancer &lt;NA&gt;                           4                 3
##  9 Austria   Nati… Freelancer &lt;NA&gt;                           5                 5
## 10 Denmark   Regi… Freelancer &lt;NA&gt;                           4                 4
## # ℹ 162 more rows
## # ℹ 9 more variables: ethics_1 &lt;dbl&gt;, ethics_2 &lt;dbl&gt;, ethics_3 &lt;dbl&gt;,
## #   ethics_4 &lt;dbl&gt;, work_experience &lt;dbl&gt;, trust_parliament &lt;dbl&gt;,
## #   trust_government &lt;dbl&gt;, trust_parties &lt;dbl&gt;, trust_politicians &lt;dbl&gt;</code></pre>
<p>Note that str_detect is case-sensitive, i.e., it reacts sensitive to capitalization. You won’tget a match for “free”:</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="tutorial-advanced-data-management.html#cb208-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(employment, <span class="st">&quot;free&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 0 × 15
## # ℹ 15 variables: country &lt;fct&gt;, reach &lt;fct&gt;, employment &lt;chr&gt;,
## #   temp_contract &lt;fct&gt;, autonomy_selection &lt;dbl&gt;, autonomy_emphasis &lt;dbl&gt;,
## #   ethics_1 &lt;dbl&gt;, ethics_2 &lt;dbl&gt;, ethics_3 &lt;dbl&gt;, ethics_4 &lt;dbl&gt;,
## #   work_experience &lt;dbl&gt;, trust_parliament &lt;dbl&gt;, trust_government &lt;dbl&gt;,
## #   trust_parties &lt;dbl&gt;, trust_politicians &lt;dbl&gt;</code></pre>
<p>In regex language, you can ask <code>str_detect</code>to look for lowercase and uppercase matches, when you are unsure of whether the entries are capitalized in your dataset:</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="tutorial-advanced-data-management.html#cb210-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(employment, <span class="st">&quot;[fF]ree&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 172 × 15
##    country   reach employment temp_contract autonomy_selection autonomy_emphasis
##    &lt;fct&gt;     &lt;fct&gt; &lt;chr&gt;      &lt;fct&gt;                      &lt;dbl&gt;             &lt;dbl&gt;
##  1 Switzerl… Local Freelancer &lt;NA&gt;                           4                 4
##  2 Denmark   Nati… Freelancer &lt;NA&gt;                           4                 4
##  3 Denmark   Nati… Freelancer &lt;NA&gt;                           5                 5
##  4 UK        Tran… Freelancer &lt;NA&gt;                           4                 4
##  5 Germany   Regi… Freelancer &lt;NA&gt;                           2                 4
##  6 Denmark   Nati… Freelancer &lt;NA&gt;                           4                 4
##  7 Denmark   Nati… Freelancer &lt;NA&gt;                           2                 3
##  8 Denmark   Nati… Freelancer &lt;NA&gt;                           4                 3
##  9 Austria   Nati… Freelancer &lt;NA&gt;                           5                 5
## 10 Denmark   Regi… Freelancer &lt;NA&gt;                           4                 4
## # ℹ 162 more rows
## # ℹ 9 more variables: ethics_1 &lt;dbl&gt;, ethics_2 &lt;dbl&gt;, ethics_3 &lt;dbl&gt;,
## #   ethics_4 &lt;dbl&gt;, work_experience &lt;dbl&gt;, trust_parliament &lt;dbl&gt;,
## #   trust_government &lt;dbl&gt;, trust_parties &lt;dbl&gt;, trust_politicians &lt;dbl&gt;</code></pre>
<p>You can also ask for matches that end on your pattern:</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="tutorial-advanced-data-management.html#cb212-1" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(employment, <span class="st">&quot;time$&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1,028 × 15
##    country   reach employment temp_contract autonomy_selection autonomy_emphasis
##    &lt;fct&gt;     &lt;fct&gt; &lt;chr&gt;      &lt;fct&gt;                      &lt;dbl&gt;             &lt;dbl&gt;
##  1 Germany   Nati… Full-time  Permanent                      5                 4
##  2 Germany   Nati… Full-time  Permanent                      3                 4
##  3 Switzerl… Regi… Full-time  Permanent                      4                 4
##  4 Switzerl… Local Part-time  Permanent                      4                 5
##  5 Austria   Nati… Part-time  Permanent                      4                 4
##  6 Germany   Local Full-time  Permanent                      4                 4
##  7 Denmark   Nati… Full-time  Permanent                      3                 3
##  8 Switzerl… Local Full-time  Permanent                      5                 5
##  9 Denmark   Nati… Full-time  Permanent                      2                 4
## 10 Austria   Local Full-time  Permanent                      5                 5
## # ℹ 1,018 more rows
## # ℹ 9 more variables: ethics_1 &lt;dbl&gt;, ethics_2 &lt;dbl&gt;, ethics_3 &lt;dbl&gt;,
## #   ethics_4 &lt;dbl&gt;, work_experience &lt;dbl&gt;, trust_parliament &lt;dbl&gt;,
## #   trust_government &lt;dbl&gt;, trust_parties &lt;dbl&gt;, trust_politicians &lt;dbl&gt;</code></pre>
<p>I can’t cover regular expressions and the <code>stringr</code> package in this tutorial, but if
you are interested in mastering regular expressions, you can have look at my tutorial for our <a href="https://lkobilke.github.io/data-journalism/tutorial-text-manipulation-with-stringr.html#tutorial-text-manipulation-with-stringr">MA journalism students</a>.</p>
</div>
<div id="take-aways-4" class="section level2 hasAnchor" number="5.6">
<h2><span class="header-section-number">5.6</span> Take-Aways<a href="tutorial-advanced-data-management.html#take-aways-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><strong>Working directory</strong>: Avoid hard-coding your working directory as
it is not reproducible on different machines. Instead, use the
<code>rstudioapi</code> package to set the working directory dynamically based
on the location of the R script.</li>
<li><strong>Use relative paths</strong> to navigate your working directory. They
describe how to navigate through folders and subfolders starting
from your current location. Use <code>./</code> to move down a folder and <code>../</code>
to move up one level in the folder hierarchy.</li>
<li><strong>Reading multiple files</strong>: When reading multiple files into R,
create a character vector of file paths using <code>list.files()</code>. Use
the <code>map()</code> function from the <code>purrr</code> package to iterate over the
file paths and read each file using functions like <code>read.csv()</code>.
Combine the resulting data frames using <code>bind_rows()</code> from the dplyr
package.</li>
<li><strong>Advanced column selectors</strong>: Use advanced column selectors from
the <code>tidyselect</code> package in <code>dplyr::select()</code> to select and manipulate columns in a data
frame. Examples include <code>last_col()</code>, <code>starts_with()</code>,
<code>ends_with()</code>, <code>contains()</code>, <code>matches()</code>, <code>num_range()</code>, and
<code>where()</code> in <code>select()</code>.</li>
<li><strong>Reorder columns</strong> using <code>everything()</code> in <code>select()</code> to select all
columns and place them in a desired order.</li>
<li><strong>Advanced row selectors</strong>: Use <code>str_detect()</code>from the <code>stringr</code> package in <code>dplyr::filter()</code> to filter observations based on a pattern or regular expression.</li>
</ul>
<p>You still have questions? The following book can help you with that:</p>
<ul>
<li><a href="https://christianb.gumroad.com/l/tidyverse-booster">Going from Beginner to Advanced in the Tidyverse by C.
Burkhart</a></li>
</ul>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exercise-3-test-your-knowledge.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tutorial-data-visualization-with-ggplot.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/LKobilke/data-journalism/edit/main/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Learning R.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
